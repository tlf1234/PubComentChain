{"remainingRequest":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HackSon\\tpp-master\\tpp_vue\\src\\views\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\src\\views\\Home.vue","mtime":1645266527176},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645264055207},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//导入一个axios.js\nimport obj from \"../assets/api/axios.js\"; //对导入的对象解构\n\nvar movieCarousel = obj.movieCarousel,\n    hello = obj.hello;\nimport myHome from \"./my/MyHome.vue\";\nimport movieList from \"./movie/MovieList\"; //1.2引入底部导航条的图片切换组件\n\nimport TabarIcon from \"./movie/TabarIcon.vue\";\nexport default {\n  data: function data() {\n    return {\n      //active保存的是一个字符串：子面板id\n      active: \"movie\",\n      //在data添加属性 currentIndex\n      //集中保存按钮状态\n      currentIndex: [{\n        isSelect: true\n      }, //0保存第一个按钮的状态\n      {\n        isSelect: false\n      }, //1保存第一个按钮的状态\n      {\n        isSelect: false\n      }],\n      list: [],\n      time: 0,\n      activeTwo: \"soon\",\n      carouselimg: \"http:127.0.0.1:5050\" // showList:[],\n      // notShowList:[],\n\n    };\n  },\n  mounted: function mounted() {\n    var act = this.getActiveTwo;\n    var doc = document.getElementById(act);\n    doc.style.borderBottom = \"2px solid #ff2e62\";\n  },\n  methods: {\n    //防止页面后退\n    // https://www.cnblogs.com/sunshq/p/7976827.html\n    fobidden_back: function fobidden_back() {\n      //防止页面后退\n      window.addEventListener(\"popstate\", function () {\n        // history.pushState(null, null, document.URL);\n        history.pushState(null, null, location.href);\n      });\n    },\n    changeState: function changeState(idx) {\n      // 功能：指定当前按钮状态修改true\n      //          其他按钮状态修改false\n      console.log(idx); // 1：创建循环遍历状态数组\n\n      for (var i = 0; i < this.currentIndex.length; i++) {\n        // 2：获取用户点击下标\n        var ui = idx; //   与当前下标比较\n\n        if (ui == i) {\n          // 3.如果两个值相等当前状态true\n          this.currentIndex[i].isSelect = true;\n        } else {\n          // 4:其他元素状态false\n          this.currentIndex[i].isSelect = false;\n        }\n      }\n    },\n    //轮播图\n    onload: function onload() {\n      var _this = this;\n\n      var url = \"movie/v1/carousel\";\n      this.axios.get(url).then(function (res) {\n        if (res.data.code == 1) {\n          _this.list = res.data.data;\n        }\n      });\n    },\n    // 改变vuex的active\n    changeActive: function changeActive() {\n      console.log(\"打印出当前页面的active:\", this.active);\n      this.$store.commit(\"changeActive\", this.active);\n    },\n    //切换（正在热映）-（即将上映） 在这里保存住activeTwo的信息，在城市选择页面跳转过来时，可以回到原位置\n    activeTwo_now: function activeTwo_now(e) {\n      this.activeTwo = \"now\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      var sib = e.target.nextElementSibling;\n      sib.style.borderBottom = \"none\";\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n    activeTwo_soon: function activeTwo_soon(e) {\n      this.activeTwo = \"soon\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      var sib = e.target.previousElementSibling;\n      sib.style.borderBottom = \"none\";\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.fobidden_back(), //使用promise 导入外部的js代码，异步向服务器发起请求；\n    movieCarousel().then(function (res) {\n      _this2.list = res;\n      console.log(\"在home.vue中import这个axios，并且使用promise来调用它\");\n      console.log(res);\n    }).catch(function (e) {\n      console.log(e);\n    }); //组件刷新，获取vuex里的active；\n\n    this.active = this.getActive;\n    this.activeTwo = this.getActiveTwo; // //创建时运行loadList;\n    // this.loadList(0);\n    // this.loadList(1);\n  },\n  computed: {\n    //计算属性，获取vuex里的active；\n    getActive: function getActive() {\n      return this.$store.state.active;\n    },\n    //计算属性，获取vuex里的activeTwo；\n    getActiveTwo: function getActiveTwo() {\n      return this.$store.state.activeTwo;\n    }\n  },\n  components: {\n    //注册子组件\n    movieList: movieList,\n    tabaricon: TabarIcon,\n    myHome: myHome\n  } // methods:{\n  // \tgetActive(val){\n  // \t\tthis.active=val;\n  // \t}\n  // }\n\n};",{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <!-- {{active}} -->\n    <mt-tab-container v-model=\"active\">\n      <transition name=\"tab-item\">\n        <mt-tab-container-item id=\"movie\" key=\"movie\">\n          <div class=\"cityAndShow cf\">\n            <my-city class=\"city\"></my-city>\n            <div class=\"changeh\">\n              <h2 @click=\"activeTwo_now\" class=\"h2\" id=\"now\">正在热映</h2>\n              <h2 @click=\"activeTwo_soon\" class=\"h2\" id=\"soon\">即将上映</h2>\n            </div>\n          </div>\n          <!-- 轮播控件 -->\n          <van-swipe :autoplay=\"3000\">\n            <van-swipe-item\n              v-for=\"(item, i) of list\"\n              :key=\"i\"\n              class=\"carouselImg\"\n            >\n              <img :src=\"`http://127.0.0.1:5050/${item.img_url}`\" alt=\"\" />\n            </van-swipe-item> </van-swipe\n          > \n\n          <mt-tab-container v-model=\"activeTwo\">\n            <mt-tab-container-item id=\"now\">\n              <!-- 这里是正在热映的内容 -->\n              <movie-list :is_show=\"1\"></movie-list>\n            </mt-tab-container-item>\n            <mt-tab-container-item id=\"soon\">\n              <!-- 这里是即将上映的内容 -->\n              <movie-list :is_show=\"0\"></movie-list>\n            </mt-tab-container-item>\n          </mt-tab-container>\n        </mt-tab-container-item>\n      </transition>\n      <mt-tab-container-item id=\"cinema\" key=\"cinema\">\n        <my-city></my-city>\n        <div style=\"width: 100vw; height: 100vh\">\n          <img\n            style=\"width: 25%; height: 25%\"\n            src=\"http://127.0.0.1:5050/active_cinema.svg\"\n            alt=\"\"\n          />\n        </div>\n      </mt-tab-container-item>\n      <mt-tab-container-item id=\"my\" key=\"my\">\n        <my-home></my-home>\n      </mt-tab-container-item>\n    </mt-tab-container>\n\n    <!-- 底部导航栏 -->\n    <!-- <mt-tabbar v-model=\"active\" fixed>\n      <mt-tab-item\n        id=\"movie\"\n        data-cid=\"movie\"\n        @click.native=\"\n          changeState(0);\n          changeActive();\n        \"\n      >\n        <tabaricon\n          :selectedImage=\"require('../../public/img/电影active.png')\"\n          :normalImage=\"require('../../public/img/电影.png')\"\n          :focused=\"active == 'movie'\"\n        ></tabaricon>\n        热映</mt-tab-item\n      >\n      <mt-tab-item\n        id=\"cinema\"\n        data-cid=\"cinema\"\n        @click.native=\"\n          changeState(1);\n          changeActive();\n        \"\n      >\n        <tabaricon\n          :selectedImage=\"require('../../public/img/影院active.png')\"\n          :normalImage=\"require('../../public/img/影院.png')\"\n          :focused=\"active == 'cinema'\"\n        ></tabaricon>\n        影院\n      </mt-tab-item>\n      <mt-tab-item\n        id=\"my\"\n        data-cid=\"my\"\n        @click.native=\"\n          changeState(2);\n          changeActive();\n        \"\n      >\n        <tabaricon\n          :selectedImage=\"require('../../public/img/我的active.png')\"\n          :normalImage=\"require('../../public/img/我的.png')\"\n          :focused=\"active == 'my'\"\n        ></tabaricon>\n        我的\n      </mt-tab-item>\n    </mt-tabbar> -->\n  </div>\n</template>\n<script>\n//导入一个axios.js\nimport obj from \"../assets/api/axios.js\";\n//对导入的对象解构\nvar { movieCarousel, hello } = obj;\nimport myHome from \"./my/MyHome.vue\";\nimport movieList from \"./movie/MovieList\";\n//1.2引入底部导航条的图片切换组件\nimport TabarIcon from \"./movie/TabarIcon.vue\";\n\nexport default {\n  data() {\n    return {\n      //active保存的是一个字符串：子面板id\n      active: \"movie\",\n      //在data添加属性 currentIndex\n      //集中保存按钮状态\n      currentIndex: [\n        { isSelect: true }, //0保存第一个按钮的状态\n        { isSelect: false }, //1保存第一个按钮的状态\n        { isSelect: false }, //2保存第一个按钮的状态\n      ],\n      list: [],\n      time: 0,\n      activeTwo: \"soon\",\n      carouselimg: \"http:127.0.0.1:5050\",\n      // showList:[],\n      // notShowList:[],\n    };\n  },\n  mounted() {\n    var act = this.getActiveTwo;\n    var doc = document.getElementById(act);\n    doc.style.borderBottom = \"2px solid #ff2e62\";\n  },\n  methods: {\n    //防止页面后退\n    // https://www.cnblogs.com/sunshq/p/7976827.html\n    fobidden_back() {\n      //防止页面后退\n      window.addEventListener(\"popstate\", function () {\n        // history.pushState(null, null, document.URL);\n        history.pushState(null, null, location.href);\n      });\n    },\n    changeState(idx) {\n      // 功能：指定当前按钮状态修改true\n      //          其他按钮状态修改false\n      console.log(idx);\n      // 1：创建循环遍历状态数组\n      for (var i = 0; i < this.currentIndex.length; i++) {\n        // 2：获取用户点击下标\n        var ui = idx;\n        //   与当前下标比较\n        if (ui == i) {\n          // 3.如果两个值相等当前状态true\n          this.currentIndex[i].isSelect = true;\n        } else {\n          // 4:其他元素状态false\n          this.currentIndex[i].isSelect = false;\n        }\n      }\n    },\n    //轮播图\n    onload() {\n      var url = \"movie/v1/carousel\";\n      this.axios.get(url).then((res) => {\n        if (res.data.code == 1) {\n          this.list = res.data.data;\n        }\n      });\n    },\n    // 改变vuex的active\n    changeActive() {\n      console.log(\"打印出当前页面的active:\", this.active);\n      this.$store.commit(\"changeActive\", this.active);\n    },\n    //切换（正在热映）-（即将上映） 在这里保存住activeTwo的信息，在城市选择页面跳转过来时，可以回到原位置\n    activeTwo_now(e) {\n      this.activeTwo = \"now\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      var sib = e.target.nextElementSibling;\n      sib.style.borderBottom = \"none\";\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n    activeTwo_soon(e) {\n      this.activeTwo = \"soon\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      var sib = e.target.previousElementSibling;\n      sib.style.borderBottom = \"none\";\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n    // loadList(is_show){\n    // \tvar arr=[this.notShowList,this.showList]\n    // \tvar url=\"movie/v1/movie_is_show\";\n    // \tvar obj={is_show};\n    // \tconsole.log(obj);\n    // \tthis.axios.get(url,{params:obj}).then(res=>{\n    // \t\tif(res.data.code==-1){\n    // \t\t\tconsole.log(\"没有电影\")\n    // \t\t}else{\n    // \t\t\tarr[is_show]=res.data.data;\n    // \t\t}\n    // \t})\n    // }\n  },\n  created() {\n    this.fobidden_back(),\n      //使用promise 导入外部的js代码，异步向服务器发起请求；\n      movieCarousel()\n        .then((res) => {\n          this.list = res;\n          console.log(\"在home.vue中import这个axios，并且使用promise来调用它\");\n          console.log(res);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    //组件刷新，获取vuex里的active；\n    this.active = this.getActive;\n    this.activeTwo = this.getActiveTwo;\n    // //创建时运行loadList;\n    // this.loadList(0);\n    // this.loadList(1);\n  },\n  computed: {\n    //计算属性，获取vuex里的active；\n    getActive() {\n      return this.$store.state.active;\n    },\n    //计算属性，获取vuex里的activeTwo；\n    getActiveTwo() {\n      return this.$store.state.activeTwo;\n    },\n  },\n  components: {\n    //注册子组件\n    movieList,\n    tabaricon: TabarIcon,\n    myHome,\n  },\n  // methods:{\n  // \tgetActive(val){\n  // \t\tthis.active=val;\n  // \t}\n  // }\n};\n</script>\t\n<style scoped>\n.tab-item-enter-active,\n.tab-item-leave-active {\n  will-change: transform;\n  transition: all 0.3s;\n  position: absolute;\n  width: 100%;\n  left: 0;\n}\n.tab-item-enter {\n  transform: translateX(-100%);\n}\n.tab-item-leave-active {\n  transform: translateX(100%);\n}\n\n.city {\n  float: left;\n}\n.changeh {\n  float: right;\n  /* position:fixed; */\n  /* top:13px;right:28px; */\n  width: 160px;\n  z-index: 20;\n  margin-left: 80px;\n  background-color: #fff;\n  height: 44px;\n  line-height: 44px;\n  display: flex;\n  border-radius: 5px;\n}\n.h2 {\n  font-size: 15px;\n  padding: 2px 0px;\n  margin: 0px 6px;\n  cursor: pointer;\n  /* border-bottom:2px solid #ff2e62; */\n}\ntabbarTwo {\n  float: right;\n}\n.carouselImg img {\n  width: 100%;\n}\n.cityAndShow {\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem 2rem;\n}\n.mint-tabbar > .mint-tab-item {\n  color: #2c2c2c;\n}\n/* 4.修改组件默选中样式 */\n.mint-tabbar > .mint-tab-item.is-selected {\n  background-color: transparent;\n  color: #ff4d64;\n}\n</style>\n"],"sourceRoot":"src\\views"}]}