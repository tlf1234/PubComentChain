{"remainingRequest":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pubComentsChain\\PubCommentChain_vue\\src\\views\\Home.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\src\\views\\Home.vue","mtime":1645455563763},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645264055207},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"D:\\\\pubComentsChain\\\\PubCommentChain_vue\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/asyncToGenerator\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//导入一个axios.js\nimport obj from \"../assets/api/axios.js\"; //对导入的对象解构\n\nvar movieCarousel = obj.movieCarousel,\n    hello = obj.hello;\nimport myHome from \"./my/MyHome.vue\";\nimport movieList from \"./movie/MovieList\";\nimport watchTVList from \"./watchTV/WatchTVList\"; //1.2引入底部导航条的图片切换组件\n// import TabarIcon from \"./movie/TabarIcon.vue\";\n\nimport myHeaderSearch from \"../components/HeaderSearch\";\nexport default {\n  data: function data() {\n    return {\n      //active保存的是一个字符串：子面板id\n      active: \"evaHead\",\n      list: [],\n      time: 0,\n      oldActivity: \"home\",\n      activeTwo: \"home\",\n      carouselimg: \"http:127.0.0.1:5050\"\n    };\n  },\n  // 启动函数\n  mounted: function mounted() {\n    //注意下面的逻辑是：getActiveTwo为上面的控件中的Id,根据这个Id就能获得这个控件，并且可以根据Id获得Item,然后对这个控件设置背景。\n    var act = this.getActiveTwo;\n    var doc = document.getElementById(act);\n    doc.style.borderBottom = \"2px solid #ff2e62\";\n    this.init(); //初始化函数，web3相关也可以放到这里\n  },\n  methods: {\n    init: function () {\n      var _init = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.initWeb3());\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function init() {\n        return _init.apply(this, arguments);\n      };\n    }(),\n    initWeb3: function () {\n      var _initWeb = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!window.ethereum) {\n                  _context2.next = 12;\n                  break;\n                }\n\n                window.web3 = new window.Web3(window.ethereum);\n                _context2.prev = 2;\n                _context2.next = 5;\n                return window.ethereum.enable();\n\n              case 5:\n                this.web3Provider = window.ethereum;\n                _context2.next = 10;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](2);\n\n              case 10:\n                _context2.next = 13;\n                break;\n\n              case 12:\n                if (window.web3) {\n                  this.web3Provider = window.web3.currentProvider;\n                  window.web3 = new window.Web3(window.web3.currentProvider);\n                } else {\n                  console.log(\"Non-Ethereum browser detected. You should consider trying MetaMask!\");\n                  window.web3 = new window.Web3(new window.Web3.providers.HttpProvider(\"https://mainnet-eth.token.im\"));\n                  this.web3Provider = window.web3.currentProvider;\n                  this.authed = false;\n                }\n\n              case 13:\n                if (this.authed) this.checkAccount(); // return this.initGame();\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[2, 8]]);\n      }));\n\n      return function initWeb3() {\n        return _initWeb.apply(this, arguments);\n      };\n    }(),\n    checkAccount: function checkAccount() {\n      var _this = this;\n\n      _this.account = window.web3.eth.coinbase;\n      setInterval(function () {\n        if (_this.account !== window.web3.eth.coinbase) {\n          _this.account = window.web3.eth.coinbase;\n          window.location.reload();\n        }\n      }, 3000);\n    },\n    //防止页面后退\n    // https://www.cnblogs.com/sunshq/p/7976827.html\n    fobidden_back: function fobidden_back() {\n      //防止页面后退\n      window.addEventListener(\"popstate\", function () {\n        // history.pushState(null, null, document.URL);\n        history.pushState(null, null, location.href);\n      });\n    },\n    //轮播图\n    onload: function onload() {\n      var _this2 = this;\n\n      var url = \"movie/v1/carousel\";\n      this.axios.get(url).then(function (res) {\n        if (res.data.code == 1) {\n          _this2.list = res.data.data;\n        }\n      });\n    },\n    //切换（正在热映）-（即将上映） 在这里保存住activeTwo的信息，在城市选择页面跳转过来时，可以回到原位置\n    evalue_home: function evalue_home(e) {\n      var doc = document.getElementById(this.oldActivity);\n      doc.style.borderBottom = \"none\";\n      this.activeTwo = \"home\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      this.oldActivity = \"home\"; //为了减少代码，可以用一个记录来实现下述激活功能。\n      // var doc = document.getElementById(\"film\");\n      // doc.style.borderBottom = \"none\";\n      // var doc = document.getElementById(\"watchTV\");\n      // doc.style.borderBottom = \"none\";\n      // var doc = document.getElementById(\"evarank\");\n      // doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n    evalue_film: function evalue_film(e) {\n      var doc = document.getElementById(this.oldActivity);\n      doc.style.borderBottom = \"none\";\n      this.activeTwo = \"film\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      this.oldActivity = \"film\"; // var doc = document.getElementById(\"home\");\n      // doc.style.borderBottom = \"none\";\n      // var doc = document.getElementById(\"watchTV\");\n      // doc.style.borderBottom = \"none\";\n      // var doc = document.getElementById(\"evarank\");\n      // doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n    evalue_watchTV: function evalue_watchTV(e) {\n      var doc = document.getElementById(this.oldActivity);\n      doc.style.borderBottom = \"none\";\n      this.activeTwo = \"watchTV\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      this.oldActivity = \"watchTV\"; // var doc = document.getElementById(\"home\");\n      // doc.style.borderBottom = \"none\";\n      // var doc = document.getElementById(\"film\");\n      // doc.style.borderBottom = \"none\";\n      // var doc = document.getElementById(\"evarank\");\n      // doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n    evaluate_rank: function evaluate_rank(e) {\n      var doc = document.getElementById(this.oldActivity);\n      doc.style.borderBottom = \"none\";\n      this.activeTwo = \"evarank\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      this.oldActivity = \"evarank\"; // var sib = e.target.previousElementSibling;\n      // sib.style.borderBottom = \"none\";\n      // var doc = document.getElementById(\"home\");\n      // doc.style.borderBottom = \"none\";\n      // var doc = document.getElementById(\"film\");\n      // doc.style.borderBottom = \"none\";\n      // var doc = document.getElementById(\"watchTV\");\n      // doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.fobidden_back(), //使用promise 导入外部的js代码，异步向服务器发起请求；\n    movieCarousel().then(function (res) {\n      _this3.list = res;\n      console.log(\"在home.vue中import这个axios，并且使用promise来调用它\");\n      console.log(res);\n    }).catch(function (e) {\n      console.log(e);\n    }); //组件刷新，获取vuex里的active；\n\n    this.active = this.getActive;\n    this.activeTwo = this.getActiveTwo;\n  },\n  computed: {\n    //计算属性，获取vuex里的active；\n    getActive: function getActive() {\n      return this.$store.state.active;\n    },\n    //计算属性，获取vuex里的activeTwo；\n    getActiveTwo: function getActiveTwo() {\n      return this.$store.state.activeTwo;\n    }\n  },\n  components: {\n    //注册子组件\n    movieList: movieList,\n    // tabaricon: TabarIcon,\n    watchTVList: watchTVList,\n    myHome: myHome,\n    myHeaderSearch: myHeaderSearch\n  }\n};",{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <!-- img src=\"../../public/img -->\n    <!-- {{active}} -->\n    <!-- <div class=\"logo\"> -->\n    <img src=\"../../public/img/logo.jpg\" class=\"logo\" />\n    <!-- </div> -->\n    <div class=\"lang\" v-if=\"defaultLang == 'cn'\" @click=\"changeLang('en')\">\n      English\n    </div>\n    <div class=\"lang\" v-else @click=\"changeLang('cn')\">中文</div>\n    <!-- 触发钱包连接 -->\n    <div class=\"linkWallet\" @click=\"changeLang('cn')\">连接钱包</div>\n\n    <div class=\"operate_activity\">\n      <div class=\"create_activity\" @click=\"changeLang('cn')\">创建评定</div>\n      <div class=\"partin_activity\" @click=\"changeLang('cn')\">参与评定</div>\n    </div>\n\n    <div class=\"search\">\n      <myHeaderSearch></myHeaderSearch>\n    </div>\n\n    <!-- 注意这个控件的model参数，这个问题导致了问题，进行了定位-->\n    <mt-tab-container v-model=\"active\">\n      <transition name=\"tab-item\">\n        <mt-tab-container-item id=\"evaHead\" key=\"evaHead\">\n          <div class=\"cityAndShow cf\">\n            <div class=\"changeh\">\n              <h2 @click=\"evalue_home\" class=\"h2\" id=\"home\">首页</h2>\n              <h2 @click=\"evalue_film\" class=\"h2\" id=\"film\">电影</h2>\n              <h2 @click=\"evalue_watchTV\" class=\"h2\" id=\"watchTV\">电视剧</h2>\n              <h2 @click=\"evaluate_rank\" class=\"h2\" id=\"evarank\">评定榜</h2>\n            </div>\n          </div>\n          <!-- 轮播控件 -->\n          <!-- <van-swipe :autoplay=\"3000\">\n            <van-swipe-item\n              v-for=\"(item, i) of list\"\n              :key=\"i\"\n              class=\"carouselImg\"\n            >\n              <img :src=\"`http://127.0.0.1:5050/${item.img_url}`\" alt=\"\" />\n            </van-swipe-item> </van-swipe\n          >  -->\n          <div class=\"ItemList\">\n            <mt-tab-container v-model=\"activeTwo\">\n              <mt-tab-container-item id=\"home\">\n                <!-- 这里是正在热映的内容 -->\n                <movie-list :is_show=\"1\"></movie-list>\n              </mt-tab-container-item>\n\n              <mt-tab-container-item id=\"film\" v-show=\"activeTwo == 'home'\">\n                <!-- 这里是即将上映的内容 -->\n                <!-- <movie-list :is_show=\"0\"></movie-list> -->\n              </mt-tab-container-item>\n\n              <mt-tab-container-item\n                id=\"watchTV\"\n                v-show=\"activeTwo == 'watchTV'\"\n              >\n                <!-- 这里是即将上映的内容 -->\n                <watchTVList :is_show=\"0\"></watchTVList>\n              </mt-tab-container-item>\n\n              <mt-tab-container-item\n                id=\"evarank\"\n                v-show=\"activeTwo == 'watchTV'\"\n              >\n                <!-- 这里是即将上映的内容 -->\n                <!-- <movie-list :is_show=\"0\"></movie-list> -->\n              </mt-tab-container-item>\n            </mt-tab-container>\n          </div>\n        </mt-tab-container-item>\n      </transition>\n    </mt-tab-container>\n  </div>\n</template>\n<script>\n//导入一个axios.js\nimport obj from \"../assets/api/axios.js\";\n//对导入的对象解构\nvar { movieCarousel, hello } = obj;\nimport myHome from \"./my/MyHome.vue\";\nimport movieList from \"./movie/MovieList\";\nimport watchTVList from \"./watchTV/WatchTVList\";\n//1.2引入底部导航条的图片切换组件\n// import TabarIcon from \"./movie/TabarIcon.vue\";\nimport myHeaderSearch from \"../components/HeaderSearch\";\n\nexport default {\n  data() {\n    return {\n      //active保存的是一个字符串：子面板id\n      active: \"evaHead\",\n\n      list: [],\n      time: 0,\n      oldActivity: \"home\",\n      activeTwo: \"home\",\n      carouselimg: \"http:127.0.0.1:5050\",\n    };\n  },\n\n  // 启动函数\n  mounted() {\n    //注意下面的逻辑是：getActiveTwo为上面的控件中的Id,根据这个Id就能获得这个控件，并且可以根据Id获得Item,然后对这个控件设置背景。\n    var act = this.getActiveTwo;\n    var doc = document.getElementById(act);\n    doc.style.borderBottom = \"2px solid #ff2e62\";\n\n    this.init(); //初始化函数，web3相关也可以放到这里\n  },\n  methods: {\n    init: async function () {\n      // this.initLang();\n      // this.initSuperiorID();\n      return this.initWeb3();\n    },\n\n    initWeb3: async function () {\n      if (window.ethereum) {\n        window.web3 = new window.Web3(window.ethereum);\n        try {\n          await window.ethereum.enable();\n          this.web3Provider = window.ethereum;\n        } catch (error) {}\n      } else if (window.web3) {\n        this.web3Provider = window.web3.currentProvider;\n        window.web3 = new window.Web3(window.web3.currentProvider);\n      } else {\n        console.log(\n          \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n        );\n        window.web3 = new window.Web3(\n          new window.Web3.providers.HttpProvider(\"https://mainnet-eth.token.im\")\n        );\n        this.web3Provider = window.web3.currentProvider;\n        this.authed = false;\n      }\n      if (this.authed) this.checkAccount();\n\n      // return this.initGame();\n    },\n\n    checkAccount: function () {\n      let _this = this;\n      _this.account = window.web3.eth.coinbase;\n      setInterval(() => {\n        if (_this.account !== window.web3.eth.coinbase) {\n          _this.account = window.web3.eth.coinbase;\n          window.location.reload();\n        }\n      }, 3000);\n    },\n\n    //防止页面后退\n    // https://www.cnblogs.com/sunshq/p/7976827.html\n    fobidden_back() {\n      //防止页面后退\n      window.addEventListener(\"popstate\", function () {\n        // history.pushState(null, null, document.URL);\n        history.pushState(null, null, location.href);\n      });\n    },\n\n    //轮播图\n    onload() {\n      var url = \"movie/v1/carousel\";\n      this.axios.get(url).then((res) => {\n        if (res.data.code == 1) {\n          this.list = res.data.data;\n        }\n      });\n    },\n\n    //切换（正在热映）-（即将上映） 在这里保存住activeTwo的信息，在城市选择页面跳转过来时，可以回到原位置\n    evalue_home(e) {\n      var doc = document.getElementById(this.oldActivity);\n      doc.style.borderBottom = \"none\";\n\n      this.activeTwo = \"home\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n\n      this.oldActivity = \"home\";\n\n      //为了减少代码，可以用一个记录来实现下述激活功能。\n      // var doc = document.getElementById(\"film\");\n      // doc.style.borderBottom = \"none\";\n\n      // var doc = document.getElementById(\"watchTV\");\n      // doc.style.borderBottom = \"none\";\n\n      // var doc = document.getElementById(\"evarank\");\n      // doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n\n    evalue_film(e) {\n      var doc = document.getElementById(this.oldActivity);\n      doc.style.borderBottom = \"none\";\n\n      this.activeTwo = \"film\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n\n      this.oldActivity = \"film\";\n      // var doc = document.getElementById(\"home\");\n      // doc.style.borderBottom = \"none\";\n\n      // var doc = document.getElementById(\"watchTV\");\n      // doc.style.borderBottom = \"none\";\n\n      // var doc = document.getElementById(\"evarank\");\n      // doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n\n    evalue_watchTV(e) {\n      var doc = document.getElementById(this.oldActivity);\n      doc.style.borderBottom = \"none\";\n\n      this.activeTwo = \"watchTV\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n\n      this.oldActivity = \"watchTV\";\n      // var doc = document.getElementById(\"home\");\n      // doc.style.borderBottom = \"none\";\n\n      // var doc = document.getElementById(\"film\");\n      // doc.style.borderBottom = \"none\";\n\n      // var doc = document.getElementById(\"evarank\");\n      // doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n\n    evaluate_rank(e) {\n      var doc = document.getElementById(this.oldActivity);\n      doc.style.borderBottom = \"none\";\n\n      this.activeTwo = \"evarank\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n\n      this.oldActivity = \"evarank\";\n      // var sib = e.target.previousElementSibling;\n      // sib.style.borderBottom = \"none\";\n\n      // var doc = document.getElementById(\"home\");\n      // doc.style.borderBottom = \"none\";\n\n      // var doc = document.getElementById(\"film\");\n      // doc.style.borderBottom = \"none\";\n\n      // var doc = document.getElementById(\"watchTV\");\n      // doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n  },\n  created() {\n    this.fobidden_back(),\n      //使用promise 导入外部的js代码，异步向服务器发起请求；\n      movieCarousel()\n        .then((res) => {\n          this.list = res;\n          console.log(\"在home.vue中import这个axios，并且使用promise来调用它\");\n          console.log(res);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    //组件刷新，获取vuex里的active；\n    this.active = this.getActive;\n    this.activeTwo = this.getActiveTwo;\n  },\n  computed: {\n    //计算属性，获取vuex里的active；\n    getActive() {\n      return this.$store.state.active;\n    },\n    //计算属性，获取vuex里的activeTwo；\n    getActiveTwo() {\n      return this.$store.state.activeTwo;\n    },\n  },\n  components: {\n    //注册子组件\n    movieList,\n    // tabaricon: TabarIcon,\n    watchTVList,\n    myHome,\n    myHeaderSearch,\n  },\n};\n</script>\t\n<style scoped>\n.tab-item-enter-active,\n.tab-item-leave-active {\n  will-change: transform;\n  transition: all 0.3s;\n  position: absolute;\n  width: 100%;\n  left: 0;\n}\n.tab-item-enter {\n  transform: translateX(-100%);\n}\n.tab-item-leave-active {\n  transform: translateX(100%);\n}\n\n.logo {\n  /* float: left; */\n  margin: 20px auto 20px 40px;\n  /* top: 20px;\n  left: 20px; */\n  height: 60px;\n}\n.lang {\n  float: right;\n  margin: 30px 40px 20px auto;\n  background-color: #eef;\n}\n.operate_activity {\n  display: flex;\n  /* background-color: rgb(214, 150, 211); */\n}\n.create_activity {\n  /* float: left; */\n  top: 10px;\n  margin-left: 250px;\n  width: 200px;\n  height: 50px;\n  padding: 10px 0;\n  text-align: center;\n  border-radius: 15px;\n  font-size: 20px;\n  color: #fff;\n  background-color: rgb(214, 150, 211);\n}\n.partin_activity {\n  margin-left: 200px;\n  width: 200px;\n  height: 50px;\n  padding: 10px 0;\n  text-align: center;\n  border-radius: 15px;\n  font-size: 20px;\n  color: #fff;\n  background-color: rgb(214, 150, 211);\n}\n.linkWallet {\n  float: right;\n  margin: 60px 10px;\n  width: 80px;\n  height: 30px;\n  font-size: 15px;\n  border-radius: 5px;\n  /* 调节垂直间距 */\n  padding: 4px 0;\n  text-align: center;\n\n  background-color: rgb(150, 214, 177);\n}\n.search {\n  float: right;\n  /* margin: 20px auto 20px 40px;\n  height: 50px; */\n  margin: 20px 50px;\n  width: 30%;\n  height: 30px;\n  border-radius: 50px;\n}\n\n.cityAndShow {\n  float: left;\n  margin: 20px 50px;\n  /* margin-left: 0px;\n  margin-top: 150px; */\n  /* display: flex; */\n  /* justify-content: space-between; */\n  /* padding: 1rem 2rem; */\n}\n.changeh {\n  width: 360px;\n  z-index: 20;\n  margin-left: 10px;\n  background-color: rgba(229, 226, 226, 0.808);\n  height: 50px;\n  line-height: 50px;\n  display: flex;\n  border-radius: 5px;\n}\n.h2 {\n  font-size: 18px;\n  padding: 2px 10px;\n  margin: 0px 6px;\n  cursor: pointer;\n  /* border-bottom:2px solid #ff2e62; */\n}\n.ItemList {\n  width: 100%;\n}\n\n.carouselImg img {\n  width: 100%;\n}\n\n.mint-tabbar > .mint-tab-item {\n  color: #2c2c2c;\n}\n/* 4.修改组件默选中样式 */\n.mint-tabbar > .mint-tab-item.is-selected {\n  background-color: transparent;\n  color: #ff4d64;\n}\n</style>\n"],"sourceRoot":"src\\views"}]}