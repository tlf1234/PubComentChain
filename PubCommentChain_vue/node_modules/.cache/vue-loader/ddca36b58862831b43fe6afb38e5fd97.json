{"remainingRequest":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HackSon\\tpp-master\\tpp_vue\\src\\views\\movie\\MovieDetail.vue?vue&type=style&index=0&lang=css","dependencies":[{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\src\\views\\movie\\MovieDetail.vue","mtime":1569206673000},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907989000},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645264055207},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import url('../../assets/css/movieDetail.css');\n",{"version":3,"sources":["MovieDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA","file":"MovieDetail.vue","sourceRoot":"src\\views\\movie","sourcesContent":["<template>\n  <div id=\"movie_detail\">\n    <!-- 1 video -->\n    <div class=\"detail_video\" :style=\"{height:videoHeight+'px'}\">\n      <video :src=\"videoUrl\" controls ></video>\n      <div class=\"video_bottom\"></div>\n    </div>\n    <!-- 2 中间详情 -->\n    <div class=\"detail_middle\">\n      <!-- 图片和名字 -->\n      <div class=\"middle_one cf\">\n        <!-- 图片 -->\n        <div class=\"one_left\">\n          <img :src=\"picUrl\" alt=\"\">\n          <div class=\"icon\">{{list.pic_label}}</div>\n        </div>\n        <!-- 名字 -->\n        <div class=\"one_right\">\n          <div class=\"right_1\">{{list.mname}}</div>\n          <div class=\"right_2\">{{list.eng_name}}</div>\n          <div class=\"right_3\">{{list.label}}</div>\n          <div class=\"right_4\">{{list.show_time}} 中国大陆上映</div>\n          <div class=\"right_5\" :class=\"{orange:!is_show}\">{{list.wish}}人想看</div>\n        </div>\n      </div>\n       <!-- 评分 -->     \n      <div class=\"middle_two\" :class=\"{'d-none':!is_show}\">\n        <div class=\"two_left\">\n          <div>{{list.score}}</div>\n          <div class=\"start\">\n            <div class=\"start_inner\" :style=\"{width:start_width}\"></div>\n          </div>\n          <div>淘票票评分</div>\n          <div>{{list.score_num}}人评</div>\n\n          <div></div>\n        </div>\n        <div class=\"two_right\">\n          <img src=\"../../../public/img/score_scale1.png\" alt=\"\">\n        </div>\n      </div>\n    </div>\n    <div class=\"detail_blank\"></div>\n    <!-- 3 简介 -->\n    <div class=\"detail_bottom\">\n      <mt-navbar v-model=\"selected\">\n        <mt-tab-item id=\"1\">简介</mt-tab-item>\n        <mt-tab-item id=\"2\">影评</mt-tab-item>\n        <mt-tab-item id=\"3\">更多</mt-tab-item>\n      </mt-navbar>\n      <!-- tab-container -->\n      <mt-tab-container v-model=\"selected\">\n        <mt-tab-container-item id=\"1\">\n         <div class=\"intro\" :class=\"{height:isHeight}\">\n           {{list.intro}}\n            <div class=\"show\" @click=\"show\">展开</div>\n          </div> \n        </mt-tab-container-item>\n        <mt-tab-container-item id=\"2\">\n         <div class=\"film\">观众热评</div> \n        </mt-tab-container-item>\n        <mt-tab-container-item id=\"3\">\n         <div class=\"more\">电影动态</div> \n        </mt-tab-container-item>\n      </mt-tab-container>\n    </div>\n    <!-- 4 选座购票 从影院界面进入时，这个按钮不会显示-->\n    <h3 class=\"detail_seat\" @click=\"find_cinema\" v-show=\"path!='/cinema'\">\n      选座购票\n    </h3>\n  </div>  \n</template>\n<script>\n// import movieLi from \"./MovieLi\";\nexport default {\n  data(){\n    return {\n      path:'',    //保存从哪个路径跳转过来，如果从/cinema 跳转过来，就不会显示选座购票按钮\n      list:[],\n      videoHeight:window.innerHeight*0.35,\n      start_width:'0px',\n      selected:\"1\",\n      isHeight:true,  //有一个固定高度\n    }\n  },\n  // 使用路由钩子在页面里获取跳转过来的路径\n  beforeRouteEnter (to, from, next) {\n    next(vm=>{\n      console.log(from.path);\n      console.log(vm);\n      vm.path=from.path\n      next();  //允许跳转      \n    })\n  },\n  methods:{\n    //跳转到find_cinema页面\n    find_cinema(){\n      this.$router.push({\n        path:'/findCinema',\n        query:{mid:this.list.mid}\n      })\n    },\n    //show 点击展开更多\n    show(){\n      this.isHeight=false;\n      var show=document.getElementsByClassName(\"show\")[0];\n      console.log(show);\n      show.style.display='none';\n    },\n    //评分控制start\n    get_start_width(){\n      var num=parseFloat(this.list.score);\n      var width=num/10*80;\n      this.start_width = width+'px';\n    },\n    //获取电影信息的axios\n    load(){\n      var url=\"movie/v1/movie_detail\";\n      var obj={mid:this.mid};\n      this.axios.get(url,{params:obj}).then(res=>{\n        if(res.data.code==0){\n          console.log(\"电影不存在，或者查询失败\")\n        }else{\n          // 从数组中，去除list\n          this.list=res.data.data[0];\n          console.log(this.list);\n          //查询成功\n          //在list获取到数据时，在执行这个操作；\n          this.get_start_width();\n        }\n      })\n    },\n  },\n  created(){\n    this.load();\n  },\n  computed:{\n    url(){\n      return this.$store.state.url;\n    },\n    //pic路径\n    picUrl(){\n      if(this.list.length==0){\n        return 'http://127.0.0.1:5050/img/nezha.mp4';\n        //  或者 return null\n      }else{ \n        return this.url+this.list.pic;\n      }\n    },\n    //video路径\n    videoUrl(){\n      if(this.list.length==0){\n        return 'http://127.0.0.1:5050/img/nezha.webp';\n      }else{ \n        return this.url+this.list.video;\n      }\n    },\n    is_show(){    //多少人想看控制显示\n      return (this.list.is_show==1) ? true : false;\n    }\n  },\n  props:{\n    mid:{default:\"\"},\n  },\n}\n</script>\n<style>\n    @import url('../../assets/css/movieDetail.css');\n</style>"]}]}