{"remainingRequest":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pubComentsChain\\PubCommentChain_vue\\src\\views\\Home.vue?vue&type=style&index=0&id=35ac0995&scoped=true&lang=css","dependencies":[{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\src\\views\\Home.vue","mtime":1645436215294},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907989000},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645264055207},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.tab-item-enter-active,\n.tab-item-leave-active {\n  will-change: transform;\n  transition: all 0.3s;\n  position: absolute;\n  width: 100%;\n  left: 0;\n}\n.tab-item-enter {\n  transform: translateX(-100%);\n}\n.tab-item-leave-active {\n  transform: translateX(100%);\n}\n\n.logo {\n  /* float: left; */\n  margin: 20px auto 20px 40px;\n  /* top: 20px;\n  left: 20px; */\n  height: 60px;\n}\n.lang {\n  float: right;\n  margin: 30px 40px 20px auto;\n  background-color: #eef;\n}\n.operate_activity {\n  display: flex;\n  /* background-color: rgb(214, 150, 211); */\n}\n.create_activity {\n  /* float: left; */\n  top: 10px;\n  margin-left: 200px;\n  width: 200px;\n  height: 50px;\n  padding: 10px 0;\n  text-align: center;\n  border-radius: 15px;\n  font-size: 20px;\n  color: #fff;\n  background-color: rgb(214, 150, 211);\n}\n.partin_activity {\n  margin-left: 200px;\n  width: 200px;\n  height: 50px;\n  padding: 10px 0;\n  text-align: center;\n  border-radius: 15px;\n  font-size: 20px;\n  color: #fff;\n  background-color: rgb(214, 150, 211);\n}\n.linkWallet {\n  float: right;\n  margin: 60px 10px;\n  width: 80px;\n  height: 30px;\n  font-size: 15px;\n  border-radius: 5px;\n  /* 调节垂直间距 */\n  padding: 4px 0;\n  text-align: center;\n\n  background-color: rgb(150, 214, 177);\n}\n.search {\n  float: right;\n  /* margin: 20px auto 20px 40px;\n  height: 50px; */\n  margin: 20px 50px;\n  width: 30%;\n  height: 30px;\n  border-radius: 50px;\n}\n\n/* .temp {\n  margin-left: 200px;\n  margin-top: 200px;\n  width: 200px;\n  height: 50px;\n  padding: 10px 0;\n  text-align: center;\n  border-radius: 15px;\n  font-size: 20px;\n  color: #fff;\n  background-color: rgb(214, 150, 211);\n} */\n\n.cityAndShow {\n  float: left;\n  margin: 20px 50px;\n  /* margin-left: 0px;\n  margin-top: 150px; */\n  /* display: flex; */\n  /* justify-content: space-between; */\n  /* padding: 1rem 2rem; */\n}\n.changeh {\n  width: 360px;\n  z-index: 20;\n  margin-left: 10px;\n  background-color: rgba(229, 226, 226, 0.808);\n  height: 50px;\n  line-height: 50px;\n  display: flex;\n  border-radius: 5px;\n}\n.h2 {\n  font-size: 18px;\n  padding: 2px 10px;\n  margin: 0px 6px;\n  cursor: pointer;\n  /* border-bottom:2px solid #ff2e62; */\n}\n/* tabbarTwo {\n  float: left;\n\n} */\n.carouselImg img {\n  width: 100%;\n}\n\n.mint-tabbar > .mint-tab-item {\n  color: #2c2c2c;\n}\n/* 4.修改组件默选中样式 */\n.mint-tabbar > .mint-tab-item.is-selected {\n  background-color: transparent;\n  color: #ff4d64;\n}\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAySA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src\\views","sourcesContent":["<template>\n  <div>\n    <!-- img src=\"../../public/img -->\n    <!-- {{active}} -->\n    <!-- <div class=\"logo\"> -->\n    <img src=\"../../public/img/logo.jpg\" class=\"logo\" />\n    <!-- </div> -->\n    <div class=\"lang\" v-if=\"defaultLang == 'cn'\" @click=\"changeLang('en')\">\n      English\n    </div>\n    <div class=\"lang\" v-else @click=\"changeLang('cn')\">中文</div>\n    <!-- 触发钱包连接 -->\n    <div class=\"linkWallet\" @click=\"changeLang('cn')\">连接钱包</div>\n\n    <div class=\"operate_activity\">\n      <div class=\"create_activity\" @click=\"changeLang('cn')\">创建评定</div>\n      <div class=\"partin_activity\" @click=\"changeLang('cn')\">参与评定</div>\n    </div>\n\n    <div class=\"search\">\n      <myHeaderSearch></myHeaderSearch>\n    </div>\n\n    <!-- 注意这个控件的model参数，这个问题导致了问题，进行了定位-->\n    <mt-tab-container v-model=\"active\">\n      <transition name=\"tab-item\">\n        <mt-tab-container-item id=\"movie\" key=\"movie\">\n          <div class=\"cityAndShow cf\">\n            <div class=\"changeh\">\n              <h2 @click=\"evalue_home\" class=\"h2\" id=\"home\">正在热评</h2>\n              <h2 @click=\"evalue_film\" class=\"h2\" id=\"film\">电影</h2>\n              <h2 @click=\"evalue_watchTV\" class=\"h2\" id=\"watchTV\">电视剧</h2>\n              <h2 @click=\"evaluate_rank\" class=\"h2\" id=\"evarank\">评定榜</h2>\n            </div>\n          </div>\n          <!-- 轮播控件 -->\n          <van-swipe :autoplay=\"3000\">\n            <van-swipe-item\n              v-for=\"(item, i) of list\"\n              :key=\"i\"\n              class=\"carouselImg\"\n            >\n              <img :src=\"`http://127.0.0.1:5050/${item.img_url}`\" alt=\"\" />\n            </van-swipe-item> </van-swipe\n          > \n\n          <mt-tab-container v-model=\"activeTwo\">\n            <mt-tab-container-item id=\"home\">\n              <!-- 这里是正在热映的内容 -->\n              <movie-list :is_show=\"0\"></movie-list>\n            </mt-tab-container-item>\n\n            <mt-tab-container-item id=\"film\">\n              <!-- 这里是即将上映的内容 -->\n              <movie-list :is_show=\"1\"></movie-list>\n            </mt-tab-container-item>\n\n            <mt-tab-container-item id=\"watchTV\">\n              <!-- 这里是即将上映的内容 -->\n              <movie-list :is_show=\"0\"></movie-list>\n            </mt-tab-container-item>\n\n            <mt-tab-container-item id=\"evarank\">\n              <!-- 这里是即将上映的内容 -->\n              <movie-list :is_show=\"0\"></movie-list>\n            </mt-tab-container-item>\n          </mt-tab-container>\n        </mt-tab-container-item>\n      </transition>\n    </mt-tab-container>\n  </div>\n</template>\n<script>\n//导入一个axios.js\nimport obj from \"../assets/api/axios.js\";\n//对导入的对象解构\nvar { movieCarousel, hello } = obj;\nimport myHome from \"./my/MyHome.vue\";\nimport movieList from \"./movie/MovieList\";\n//1.2引入底部导航条的图片切换组件\n// import TabarIcon from \"./movie/TabarIcon.vue\";\nimport myHeaderSearch from \"../components/HeaderSearch\";\n\nexport default {\n  data() {\n    return {\n      //active保存的是一个字符串：子面板id\n      active: \"evaHead\",\n\n      list: [],\n      time: 0,\n      // oldActive: \"home\",\n      activeTwo: \"home\",\n      carouselimg: \"http:127.0.0.1:5050\",\n    };\n  },\n\n  // 启动函数\n  mounted() {\n    //注意下面的逻辑是：getActiveTwo为上面的控件中的Id,根据这个Id就能获得这个控件，并且可以根据Id获得Item,然后对这个控件设置背景。\n    var act = this.getActiveTwo;\n    var doc = document.getElementById(act);\n    doc.style.borderBottom = \"2px solid #ff2e62\";\n\n    this.init(); //初始化函数，web3相关也可以放到这里\n  },\n  methods: {\n    init: async function () {\n      // this.initLang();\n      // this.initSuperiorID();\n      return this.initWeb3();\n    },\n\n    initWeb3: async function () {\n      if (window.ethereum) {\n        window.web3 = new window.Web3(window.ethereum);\n        try {\n          await window.ethereum.enable();\n          this.web3Provider = window.ethereum;\n        } catch (error) {}\n      } else if (window.web3) {\n        this.web3Provider = window.web3.currentProvider;\n        window.web3 = new window.Web3(window.web3.currentProvider);\n      } else {\n        console.log(\n          \"Non-Ethereum browser detected. You should consider trying MetaMask!\"\n        );\n        window.web3 = new window.Web3(\n          new window.Web3.providers.HttpProvider(\"https://mainnet-eth.token.im\")\n        );\n        this.web3Provider = window.web3.currentProvider;\n        this.authed = false;\n      }\n      if (this.authed) this.checkAccount();\n\n      // return this.initGame();\n    },\n\n    checkAccount: function () {\n      let _this = this;\n      _this.account = window.web3.eth.coinbase;\n      setInterval(() => {\n        if (_this.account !== window.web3.eth.coinbase) {\n          _this.account = window.web3.eth.coinbase;\n          window.location.reload();\n        }\n      }, 3000);\n    },\n\n    //防止页面后退\n    // https://www.cnblogs.com/sunshq/p/7976827.html\n    fobidden_back() {\n      //防止页面后退\n      window.addEventListener(\"popstate\", function () {\n        // history.pushState(null, null, document.URL);\n        history.pushState(null, null, location.href);\n      });\n    },\n\n    //轮播图\n    onload() {\n      var url = \"movie/v1/carousel\";\n      this.axios.get(url).then((res) => {\n        if (res.data.code == 1) {\n          this.list = res.data.data;\n        }\n      });\n    },\n\n    //切换（正在热映）-（即将上映） 在这里保存住activeTwo的信息，在城市选择页面跳转过来时，可以回到原位置\n    evalue_home(e) {\n      // var doc = document.getElementById(this.oldActive);\n      // doc.style.borderBottom = \"none\";\n\n      this.activeTwo = \"home\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n\n      // this.oldActive = \"home\";\n\n      //为了减少代码，可以用一个记录来实现下述激活功能。\n      var doc = document.getElementById(\"film\");\n      doc.style.borderBottom = \"none\";\n\n      var doc = document.getElementById(\"watchTV\");\n      doc.style.borderBottom = \"none\";\n\n      var doc = document.getElementById(\"evarank\");\n      doc.style.borderBottom = \"none\";\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n\n    evalue_film(e) {\n      // var doc = document.getElementById(this.oldActive);\n      // doc.style.borderBottom = \"none\";\n\n      this.activeTwo = \"film\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n\n      // this.oldActive = \"film\";\n\n      var doc = document.getElementById(\"home\");\n      doc.style.borderBottom = \"none\";\n\n      var doc = document.getElementById(\"watchTV\");\n      doc.style.borderBottom = \"none\";\n\n      var doc = document.getElementById(\"evarank\");\n      doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n\n    evalue_watchTV(e) {\n      // var doc = document.getElementById(this.oldActive);\n      // doc.style.borderBottom = \"none\";\n\n      this.activeTwo = \"watchTV\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n\n      // this.oldActive = \"watchTV\";\n\n      var doc = document.getElementById(\"home\");\n      doc.style.borderBottom = \"none\";\n\n      var doc = document.getElementById(\"film\");\n      doc.style.borderBottom = \"none\";\n\n      var doc = document.getElementById(\"evarank\");\n      doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n\n    evaluate_rank(e) {\n      // var doc = document.getElementById(this.oldActive);\n      // doc.style.borderBottom = \"none\";\n\n      this.activeTwo = \"evarank\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n\n      // this.oldActive = \"evarank\";\n\n      var sib = e.target.previousElementSibling;\n      sib.style.borderBottom = \"none\";\n\n      var doc = document.getElementById(\"home\");\n      doc.style.borderBottom = \"none\";\n\n      var doc = document.getElementById(\"film\");\n      doc.style.borderBottom = \"none\";\n\n      var doc = document.getElementById(\"watchTV\");\n      doc.style.borderBottom = \"none\";\n\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n  },\n  created() {\n    this.fobidden_back(),\n      //使用promise 导入外部的js代码，异步向服务器发起请求；\n      movieCarousel()\n        .then((res) => {\n          this.list = res;\n          console.log(\"在home.vue中import这个axios，并且使用promise来调用它\");\n          console.log(res);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    //组件刷新，获取vuex里的active；\n    this.active = this.getActive;\n    this.activeTwo = this.getActiveTwo;\n  },\n  computed: {\n    //计算属性，获取vuex里的active；\n    getActive() {\n      return this.$store.state.active;\n    },\n    //计算属性，获取vuex里的activeTwo；\n    getActiveTwo() {\n      return this.$store.state.activeTwo;\n    },\n    // getoldActivite(){\n    //   return\n\n    // }\n  },\n  components: {\n    //注册子组件\n    movieList,\n    tabaricon: TabarIcon,\n    myHome,\n    myHeaderSearch,\n  },\n};\n</script>\t\n<style scoped>\n.tab-item-enter-active,\n.tab-item-leave-active {\n  will-change: transform;\n  transition: all 0.3s;\n  position: absolute;\n  width: 100%;\n  left: 0;\n}\n.tab-item-enter {\n  transform: translateX(-100%);\n}\n.tab-item-leave-active {\n  transform: translateX(100%);\n}\n\n.logo {\n  /* float: left; */\n  margin: 20px auto 20px 40px;\n  /* top: 20px;\n  left: 20px; */\n  height: 60px;\n}\n.lang {\n  float: right;\n  margin: 30px 40px 20px auto;\n  background-color: #eef;\n}\n.operate_activity {\n  display: flex;\n  /* background-color: rgb(214, 150, 211); */\n}\n.create_activity {\n  /* float: left; */\n  top: 10px;\n  margin-left: 200px;\n  width: 200px;\n  height: 50px;\n  padding: 10px 0;\n  text-align: center;\n  border-radius: 15px;\n  font-size: 20px;\n  color: #fff;\n  background-color: rgb(214, 150, 211);\n}\n.partin_activity {\n  margin-left: 200px;\n  width: 200px;\n  height: 50px;\n  padding: 10px 0;\n  text-align: center;\n  border-radius: 15px;\n  font-size: 20px;\n  color: #fff;\n  background-color: rgb(214, 150, 211);\n}\n.linkWallet {\n  float: right;\n  margin: 60px 10px;\n  width: 80px;\n  height: 30px;\n  font-size: 15px;\n  border-radius: 5px;\n  /* 调节垂直间距 */\n  padding: 4px 0;\n  text-align: center;\n\n  background-color: rgb(150, 214, 177);\n}\n.search {\n  float: right;\n  /* margin: 20px auto 20px 40px;\n  height: 50px; */\n  margin: 20px 50px;\n  width: 30%;\n  height: 30px;\n  border-radius: 50px;\n}\n\n/* .temp {\n  margin-left: 200px;\n  margin-top: 200px;\n  width: 200px;\n  height: 50px;\n  padding: 10px 0;\n  text-align: center;\n  border-radius: 15px;\n  font-size: 20px;\n  color: #fff;\n  background-color: rgb(214, 150, 211);\n} */\n\n.cityAndShow {\n  float: left;\n  margin: 20px 50px;\n  /* margin-left: 0px;\n  margin-top: 150px; */\n  /* display: flex; */\n  /* justify-content: space-between; */\n  /* padding: 1rem 2rem; */\n}\n.changeh {\n  width: 360px;\n  z-index: 20;\n  margin-left: 10px;\n  background-color: rgba(229, 226, 226, 0.808);\n  height: 50px;\n  line-height: 50px;\n  display: flex;\n  border-radius: 5px;\n}\n.h2 {\n  font-size: 18px;\n  padding: 2px 10px;\n  margin: 0px 6px;\n  cursor: pointer;\n  /* border-bottom:2px solid #ff2e62; */\n}\n/* tabbarTwo {\n  float: left;\n\n} */\n.carouselImg img {\n  width: 100%;\n}\n\n.mint-tabbar > .mint-tab-item {\n  color: #2c2c2c;\n}\n/* 4.修改组件默选中样式 */\n.mint-tabbar > .mint-tab-item.is-selected {\n  background-color: transparent;\n  color: #ff4d64;\n}\n</style>\n"]}]}