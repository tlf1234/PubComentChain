{"remainingRequest":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HackSon\\tpp-master\\tpp_vue\\src\\views\\Home.vue?vue&type=style&index=0&id=5e265133&scoped=true&lang=css","dependencies":[{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\src\\views\\Home.vue","mtime":1645266527176},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1521907989000},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\postcss-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645264055207},{"path":"D:\\HackSon\\tpp-master\\tpp_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.tab-item-enter-active,\n.tab-item-leave-active {\n  will-change: transform;\n  transition: all 0.3s;\n  position: absolute;\n  width: 100%;\n  left: 0;\n}\n.tab-item-enter {\n  transform: translateX(-100%);\n}\n.tab-item-leave-active {\n  transform: translateX(100%);\n}\n\n.city {\n  float: left;\n}\n.changeh {\n  float: right;\n  /* position:fixed; */\n  /* top:13px;right:28px; */\n  width: 160px;\n  z-index: 20;\n  margin-left: 80px;\n  background-color: #fff;\n  height: 44px;\n  line-height: 44px;\n  display: flex;\n  border-radius: 5px;\n}\n.h2 {\n  font-size: 15px;\n  padding: 2px 0px;\n  margin: 0px 6px;\n  cursor: pointer;\n  /* border-bottom:2px solid #ff2e62; */\n}\ntabbarTwo {\n  float: right;\n}\n.carouselImg img {\n  width: 100%;\n}\n.cityAndShow {\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem 2rem;\n}\n.mint-tabbar > .mint-tab-item {\n  color: #2c2c2c;\n}\n/* 4.修改组件默选中样式 */\n.mint-tabbar > .mint-tab-item.is-selected {\n  background-color: transparent;\n  color: #ff4d64;\n}\n",{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src\\views","sourcesContent":["<template>\n  <div>\n    <!-- {{active}} -->\n    <mt-tab-container v-model=\"active\">\n      <transition name=\"tab-item\">\n        <mt-tab-container-item id=\"movie\" key=\"movie\">\n          <div class=\"cityAndShow cf\">\n            <my-city class=\"city\"></my-city>\n            <div class=\"changeh\">\n              <h2 @click=\"activeTwo_now\" class=\"h2\" id=\"now\">正在热映</h2>\n              <h2 @click=\"activeTwo_soon\" class=\"h2\" id=\"soon\">即将上映</h2>\n            </div>\n          </div>\n          <!-- 轮播控件 -->\n          <van-swipe :autoplay=\"3000\">\n            <van-swipe-item\n              v-for=\"(item, i) of list\"\n              :key=\"i\"\n              class=\"carouselImg\"\n            >\n              <img :src=\"`http://127.0.0.1:5050/${item.img_url}`\" alt=\"\" />\n            </van-swipe-item> </van-swipe\n          > \n\n          <mt-tab-container v-model=\"activeTwo\">\n            <mt-tab-container-item id=\"now\">\n              <!-- 这里是正在热映的内容 -->\n              <movie-list :is_show=\"1\"></movie-list>\n            </mt-tab-container-item>\n            <mt-tab-container-item id=\"soon\">\n              <!-- 这里是即将上映的内容 -->\n              <movie-list :is_show=\"0\"></movie-list>\n            </mt-tab-container-item>\n          </mt-tab-container>\n        </mt-tab-container-item>\n      </transition>\n      <mt-tab-container-item id=\"cinema\" key=\"cinema\">\n        <my-city></my-city>\n        <div style=\"width: 100vw; height: 100vh\">\n          <img\n            style=\"width: 25%; height: 25%\"\n            src=\"http://127.0.0.1:5050/active_cinema.svg\"\n            alt=\"\"\n          />\n        </div>\n      </mt-tab-container-item>\n      <mt-tab-container-item id=\"my\" key=\"my\">\n        <my-home></my-home>\n      </mt-tab-container-item>\n    </mt-tab-container>\n\n    <!-- 底部导航栏 -->\n    <!-- <mt-tabbar v-model=\"active\" fixed>\n      <mt-tab-item\n        id=\"movie\"\n        data-cid=\"movie\"\n        @click.native=\"\n          changeState(0);\n          changeActive();\n        \"\n      >\n        <tabaricon\n          :selectedImage=\"require('../../public/img/电影active.png')\"\n          :normalImage=\"require('../../public/img/电影.png')\"\n          :focused=\"active == 'movie'\"\n        ></tabaricon>\n        热映</mt-tab-item\n      >\n      <mt-tab-item\n        id=\"cinema\"\n        data-cid=\"cinema\"\n        @click.native=\"\n          changeState(1);\n          changeActive();\n        \"\n      >\n        <tabaricon\n          :selectedImage=\"require('../../public/img/影院active.png')\"\n          :normalImage=\"require('../../public/img/影院.png')\"\n          :focused=\"active == 'cinema'\"\n        ></tabaricon>\n        影院\n      </mt-tab-item>\n      <mt-tab-item\n        id=\"my\"\n        data-cid=\"my\"\n        @click.native=\"\n          changeState(2);\n          changeActive();\n        \"\n      >\n        <tabaricon\n          :selectedImage=\"require('../../public/img/我的active.png')\"\n          :normalImage=\"require('../../public/img/我的.png')\"\n          :focused=\"active == 'my'\"\n        ></tabaricon>\n        我的\n      </mt-tab-item>\n    </mt-tabbar> -->\n  </div>\n</template>\n<script>\n//导入一个axios.js\nimport obj from \"../assets/api/axios.js\";\n//对导入的对象解构\nvar { movieCarousel, hello } = obj;\nimport myHome from \"./my/MyHome.vue\";\nimport movieList from \"./movie/MovieList\";\n//1.2引入底部导航条的图片切换组件\nimport TabarIcon from \"./movie/TabarIcon.vue\";\n\nexport default {\n  data() {\n    return {\n      //active保存的是一个字符串：子面板id\n      active: \"movie\",\n      //在data添加属性 currentIndex\n      //集中保存按钮状态\n      currentIndex: [\n        { isSelect: true }, //0保存第一个按钮的状态\n        { isSelect: false }, //1保存第一个按钮的状态\n        { isSelect: false }, //2保存第一个按钮的状态\n      ],\n      list: [],\n      time: 0,\n      activeTwo: \"soon\",\n      carouselimg: \"http:127.0.0.1:5050\",\n      // showList:[],\n      // notShowList:[],\n    };\n  },\n  mounted() {\n    var act = this.getActiveTwo;\n    var doc = document.getElementById(act);\n    doc.style.borderBottom = \"2px solid #ff2e62\";\n  },\n  methods: {\n    //防止页面后退\n    // https://www.cnblogs.com/sunshq/p/7976827.html\n    fobidden_back() {\n      //防止页面后退\n      window.addEventListener(\"popstate\", function () {\n        // history.pushState(null, null, document.URL);\n        history.pushState(null, null, location.href);\n      });\n    },\n    changeState(idx) {\n      // 功能：指定当前按钮状态修改true\n      //          其他按钮状态修改false\n      console.log(idx);\n      // 1：创建循环遍历状态数组\n      for (var i = 0; i < this.currentIndex.length; i++) {\n        // 2：获取用户点击下标\n        var ui = idx;\n        //   与当前下标比较\n        if (ui == i) {\n          // 3.如果两个值相等当前状态true\n          this.currentIndex[i].isSelect = true;\n        } else {\n          // 4:其他元素状态false\n          this.currentIndex[i].isSelect = false;\n        }\n      }\n    },\n    //轮播图\n    onload() {\n      var url = \"movie/v1/carousel\";\n      this.axios.get(url).then((res) => {\n        if (res.data.code == 1) {\n          this.list = res.data.data;\n        }\n      });\n    },\n    // 改变vuex的active\n    changeActive() {\n      console.log(\"打印出当前页面的active:\", this.active);\n      this.$store.commit(\"changeActive\", this.active);\n    },\n    //切换（正在热映）-（即将上映） 在这里保存住activeTwo的信息，在城市选择页面跳转过来时，可以回到原位置\n    activeTwo_now(e) {\n      this.activeTwo = \"now\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      var sib = e.target.nextElementSibling;\n      sib.style.borderBottom = \"none\";\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n    activeTwo_soon(e) {\n      this.activeTwo = \"soon\";\n      e.target.style.borderBottom = \"2px solid #ff2e62\";\n      var sib = e.target.previousElementSibling;\n      sib.style.borderBottom = \"none\";\n      this.$store.commit(\"changeActiveTwo\", this.activeTwo);\n    },\n    // loadList(is_show){\n    // \tvar arr=[this.notShowList,this.showList]\n    // \tvar url=\"movie/v1/movie_is_show\";\n    // \tvar obj={is_show};\n    // \tconsole.log(obj);\n    // \tthis.axios.get(url,{params:obj}).then(res=>{\n    // \t\tif(res.data.code==-1){\n    // \t\t\tconsole.log(\"没有电影\")\n    // \t\t}else{\n    // \t\t\tarr[is_show]=res.data.data;\n    // \t\t}\n    // \t})\n    // }\n  },\n  created() {\n    this.fobidden_back(),\n      //使用promise 导入外部的js代码，异步向服务器发起请求；\n      movieCarousel()\n        .then((res) => {\n          this.list = res;\n          console.log(\"在home.vue中import这个axios，并且使用promise来调用它\");\n          console.log(res);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    //组件刷新，获取vuex里的active；\n    this.active = this.getActive;\n    this.activeTwo = this.getActiveTwo;\n    // //创建时运行loadList;\n    // this.loadList(0);\n    // this.loadList(1);\n  },\n  computed: {\n    //计算属性，获取vuex里的active；\n    getActive() {\n      return this.$store.state.active;\n    },\n    //计算属性，获取vuex里的activeTwo；\n    getActiveTwo() {\n      return this.$store.state.activeTwo;\n    },\n  },\n  components: {\n    //注册子组件\n    movieList,\n    tabaricon: TabarIcon,\n    myHome,\n  },\n  // methods:{\n  // \tgetActive(val){\n  // \t\tthis.active=val;\n  // \t}\n  // }\n};\n</script>\t\n<style scoped>\n.tab-item-enter-active,\n.tab-item-leave-active {\n  will-change: transform;\n  transition: all 0.3s;\n  position: absolute;\n  width: 100%;\n  left: 0;\n}\n.tab-item-enter {\n  transform: translateX(-100%);\n}\n.tab-item-leave-active {\n  transform: translateX(100%);\n}\n\n.city {\n  float: left;\n}\n.changeh {\n  float: right;\n  /* position:fixed; */\n  /* top:13px;right:28px; */\n  width: 160px;\n  z-index: 20;\n  margin-left: 80px;\n  background-color: #fff;\n  height: 44px;\n  line-height: 44px;\n  display: flex;\n  border-radius: 5px;\n}\n.h2 {\n  font-size: 15px;\n  padding: 2px 0px;\n  margin: 0px 6px;\n  cursor: pointer;\n  /* border-bottom:2px solid #ff2e62; */\n}\ntabbarTwo {\n  float: right;\n}\n.carouselImg img {\n  width: 100%;\n}\n.cityAndShow {\n  display: flex;\n  justify-content: space-between;\n  padding: 1rem 2rem;\n}\n.mint-tabbar > .mint-tab-item {\n  color: #2c2c2c;\n}\n/* 4.修改组件默选中样式 */\n.mint-tabbar > .mint-tab-item.is-selected {\n  background-color: transparent;\n  color: #ff4d64;\n}\n</style>\n"]}]}