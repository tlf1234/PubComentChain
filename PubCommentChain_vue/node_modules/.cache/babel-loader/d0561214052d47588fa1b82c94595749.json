{"remainingRequest":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\babel-loader\\lib\\index.js!D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\pubComentsChain\\PubCommentChain_vue\\src\\views\\cinema\\FindCinema.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\src\\views\\cinema\\FindCinema.vue","mtime":1569206673000},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1645264055207},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1529635966000},{"path":"D:\\pubComentsChain\\PubCommentChain_vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1527860006000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport findCinemaItem from \"./FindCinemaItem\"; //从movieLi 跳转过来时，要把 city_id (vuex获取),mid(movieLi)获取过来+\n\nexport default {\n  data: function data() {\n    return {\n      mid: \"\",\n      list: [],\n      isNone: true,\n      week: [\"周日\", \"周一\", \"周二\", \"周三\", \"周四\", \"周五\", \"周六\"],\n      dayList: []\n    };\n  },\n  props: {},\n  computed: {\n    city_id: function city_id() {\n      //获取vuex保存的city_id\n      return this.$store.state.city_id;\n    }\n  },\n  methods: {\n    //获取今天的时间\n    getDay: function getDay(num) {\n      var d2 = new Date();\n      d2 = d2.getTime();\n      d2 += num * 24 * 60 * 60 * 1000; //以d2毫秒数为基础\n\n      var d1 = new Date(d2);\n      var month = d1.getMonth();\n      month = month >= 9 ? month + 1 : \"0\" + (month + 1);\n      var date = d1.getDate();\n      var week = d1.getDay();\n      return [month + \"-\" + date, week];\n    },\n    getDayList: function getDayList() {\n      for (var i = 0; i < 7; i++) {\n        var arr = [\"今天\", \"明天\", \"后天\"];\n\n        if (i < 3) {\n          var arrDay = this.getDay(i);\n          var arrTime = arr[i] + arrDay[0];\n          this.dayList.push(arrTime);\n        } else {\n          var arrDay = this.getDay(i);\n          var j = arrDay[1];\n          var arrTime = this.week[j] + arrDay[0];\n          this.dayList.push(arrTime);\n        }\n      }\n\n      console.log(this.dayList);\n    },\n    // 获取mid的函数    //通过这个函数获取到mid的值  this.$router.push({  })传过来的mid\n    routeMid: function routeMid() {\n      this.mid = this.$route.query.mid;\n    },\n    //ajax请求\n    load: function load() {\n      var _this = this;\n\n      var url = \"cinema/v1/find_cinema\";\n      var obj = {\n        city_id: this.city_id,\n        mid: this.mid\n      };\n      console.log(obj);\n      this.axios.get(url, {\n        params: obj\n      }).then(function (res) {\n        if (res.data.code == 0) {\n          console.log(res.data.msg);\n          _this.isNone = false;\n        } else {\n          _this.list = res.data.data;\n          console.log(_this.list);\n        }\n      });\n    }\n  },\n  created: function created() {\n    // 在组件创建成功时，获取mid\n    // console.log(this.$route.query);\n    this.routeMid();\n    this.load();\n    this.getDay();\n    this.getDayList();\n  },\n  components: {\n    findCinemaItem: findCinemaItem\n  }\n};",{"version":3,"sources":["FindCinema.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAoBA,OAAA,cAAA,MAAA,kBAAA,C,CACA;;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,WAAA,EADA;AAEA,YAAA,EAFA;AAGA,cAAA,IAHA;AAIA,YAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,CAJA;AAKA,eAAA;AALA,KAAA;AAOA,GATA;AAUA,SAAA,EAVA;AAaA,YAAA;AACA,WADA,qBACA;AACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,OAAA;AACA;AAJA,GAbA;AAmBA,WAAA;AACA;AACA,UAFA,kBAEA,GAFA,EAEA;AACA,UAAA,KAAA,IAAA,IAAA,EAAA;AACA,WAAA,GAAA,OAAA,EAAA;AACA,YAAA,MAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,IAAA,CAHA,CAIA;;AACA,UAAA,KAAA,IAAA,IAAA,CAAA,EAAA,CAAA;AACA,UAAA,QAAA,GAAA,QAAA,EAAA;AACA,cAAA,SAAA,CAAA,GAAA,QAAA,CAAA,GAAA,OAAA,QAAA,CAAA,CAAA;AACA,UAAA,OAAA,GAAA,OAAA,EAAA;AACA,UAAA,OAAA,GAAA,MAAA,EAAA;AACA,aAAA,CAAA,QAAA,GAAA,GAAA,IAAA,EAAA,IAAA,CAAA;AAEA,KAdA;AAeA,cAfA,wBAeA;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,IAAA,CAAA,EAAA,GAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,EAAA,IAAA,EAAA,IAAA,CAAA;;AACA,YAAA,IAAA,CAAA,EAAA;AACA,cAAA,SAAA,KAAA,MAAA,CAAA,CAAA,CAAA;AACA,cAAA,UAAA,IAAA,CAAA,IAAA,OAAA,CAAA,CAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,SAJA,MAIA;AACA,cAAA,SAAA,KAAA,MAAA,CAAA,CAAA,CAAA;AACA,cAAA,IAAA,OAAA,CAAA,CAAA;AACA,cAAA,UAAA,KAAA,IAAA,CAAA,CAAA,IAAA,OAAA,CAAA,CAAA;AACA,eAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AACA;;AACA,cAAA,GAAA,CAAA,KAAA,OAAA;AACA,KA9BA;AA+BA;AACA,YAhCA,sBAgCA;AACA,WAAA,GAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,GAAA;AACA,KAlCA;AAmCA;AACA,QApCA,kBAoCA;AAAA;;AACA,UAAA,MAAA,uBAAA;AACA,UAAA,MAAA;AAAA,iBAAA,KAAA,OAAA;AAAA,aAAA,KAAA;AAAA,OAAA;AACA,cAAA,GAAA,CAAA,GAAA;AACA,WAAA,KAAA,CAAA,GAAA,CAAA,GAAA,EAAA;AAAA,gBAAA;AAAA,OAAA,EAAA,IAAA,CAAA,eAAA;AACA,YAAA,IAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,GAAA,CAAA,IAAA,IAAA,CAAA,GAAA;AACA,gBAAA,MAAA,GAAA,KAAA;AACA,SAHA,MAGA;AACA,gBAAA,IAAA,GAAA,IAAA,IAAA,CAAA,IAAA;AACA,kBAAA,GAAA,CAAA,MAAA,IAAA;AACA;AACA,OARA;AASA;AAjDA,GAnBA;AAsEA,SAtEA,qBAsEA;AACA;AACA;AACA,SAAA,QAAA;AACA,SAAA,IAAA;AACA,SAAA,MAAA;AACA,SAAA,UAAA;AACA,GA7EA;AA8EA,cAAA;AACA;AADA;AA9EA,CAAA","sourcesContent":["<template>\n  <div id=\"find_cinema\">\n    <!-- 加载漏斗组件 -->\n    <my-load-wait></my-load-wait>\n    <!--1： 头部导航栏部分，为其搭建一个组件 -->   \n    <my-header-nav></my-header-nav>\n    <van-tabs animated>\n      <!-- 这里写的是时间  用假的时间来填充页面-->\n      <van-tab v-for=\"(item,i) of dayList\" :title=\"item\" :key=\"i\"> \n        <div class=\"placeholder\"></div>\n        <div class=\"today\" v-show=\"i==0\" :class=\"{'d-none':!isNone}\">今天有场次</div>\n        <!--2： 把数据传递给子组件 -->\n        <find-cinema-item v-for=\"(cinema,i) of list.cinema\" :key=\"i\" :cinema=\"cinema\" :time=\"list.movie[i]\"></find-cinema-item>          \n      </van-tab>\n    </van-tabs>\n    <!--3： 在页面没有数据时，这句话就会显示出来 -->\n    <div :class=\"{'d-none':isNone}\" class=\"noMovie\">该城市没有影院在播放该电影，请重新选择城市</div>\n  </div>\n</template>\n<script>\nimport findCinemaItem from \"./FindCinemaItem\";\n//从movieLi 跳转过来时，要把 city_id (vuex获取),mid(movieLi)获取过来+\nexport default {\n  data(){\n    return{\n      mid:\"\",\n      list:[],\n      isNone:true,\n      week:[\"周日\",\"周一\",\"周二\",\"周三\",\"周四\",\"周五\",\"周六\"],\n      dayList:[],\n  }\n  },\n  props:{\n\n  },\n  computed:{\n    city_id(){\n      //获取vuex保存的city_id\n      return this.$store.state.city_id\n    }\n  },\n  methods:{\n    //获取今天的时间\n    getDay(num){\n      var d2=new Date();\n      d2=d2.getTime();\n      d2+=num*24*60*60*1000;\n      //以d2毫秒数为基础\n      var d1=new Date(d2);\n      var month=d1.getMonth();\n      month= (month>=9) ? month+1 : (\"0\"+(month+1))\n      var date=d1.getDate();\n      var week=d1.getDay();\n      return [month+\"-\"+date,week];\n\n    },\n    getDayList(){\n      for(var i=0;i<7;i++){\n        var arr=[\"今天\",\"明天\",\"后天\"]\n        if(i<3){\n          var arrDay=this.getDay(i);\n          var arrTime=arr[i]+arrDay[0]\n          this.dayList.push(arrTime);\n        }else{\n          var arrDay=this.getDay(i);\n          var j=arrDay[1];\n          var arrTime=this.week[j]+arrDay[0]\n          this.dayList.push(arrTime);\n        }\n      }\n      console.log(this.dayList);\n    },\n    // 获取mid的函数    //通过这个函数获取到mid的值  this.$router.push({  })传过来的mid\n    routeMid(){\n      this.mid = this.$route.query.mid    \n    },\n    //ajax请求\n    load(){\n      var url=\"cinema/v1/find_cinema\";\n      var obj={city_id:this.city_id,mid:this.mid};\n      console.log(obj)\n      this.axios.get(url,{params:obj}).then(res=>{\n        if(res.data.code==0){\n          console.log(res.data.msg);\n          this.isNone=false;\n        }else{\n          this.list=res.data.data;\n          console.log(this.list)\n        }\n      })\n    }\n  },\n  created(){\n    // 在组件创建成功时，获取mid\n    // console.log(this.$route.query);\n    this.routeMid();\n    this.load();\n    this.getDay();\n    this.getDayList();\n  },\n  components:{\n    findCinemaItem,\n  }\n}\n</script>\n<style>\n  /* @import url('../../assets/css/findCinema.css'); */\n  #find_cinema .today{\n    font-size:1.3rem;\n    line-height: 30px;\n    color:#999999;\n    background-color:#f5f5f5;\n    padding:1px 0 0 4vw;\n  }\n  #find_cinema .van-tabs__wrap{\n    position:fixed;\n    /* top:60px;  */\n    z-index:1;\n  }\n  #find_cinema .placeholder{\n    height:44px;\n  }\n  #find_cinema .noMovie{\n    font-size:1.5rem;\n    padding:20px;\n    text-align: center;\n    color:#999999;\n  }\n  .d-none{\n    display: none;\n  }\n</style>"],"sourceRoot":"src\\views\\cinema"}]}